<project name="Pan Compiler" default="all" basedir=".">

	<description>java-based pan compiler</description>

	<!-- import property override file -->
	<property file="override.props" />

	<!-- Source locations used by other task files. -->
	<property name="src" location="src" />
	<property name="src.scripts" location="scripts" />
	<property name="generated" location="generated" />
	<property name="grammar" location="grammar" />
	<property name="packaging" location="packaging" />
	<property name="tests" location="tests" />
	<property name="src.docs" location="docs" />

	<!-- build location and space for temporary files -->
	<property name="build" location="build" />
	<property name="tmp" location="${build}/tmp" />

	<!-- Import the various classes of tasks for the complete build. -->
	<import file="compile-tasks.xml" />
	<import file="doc-tasks.xml" />
	<import file="pkg-tasks.xml" />
	<import file="test-tasks.xml" />

	<!-- **************************************************************************
     INTERNAL: Create the timestamp for the build.
    ************************************************************************** -->

	<target name="init">
		<tstamp>
			<format property="DATE" pattern="dd MMMM yyyy" locale="en" />
		</tstamp>
	</target>


	<!-- **************************************************************************
     Clean up the generated files.
    ************************************************************************** -->

	<target name="clean" description="remove generated files">
		<delete includeEmptyDirs="true" dir="${build}" />
		<delete includeEmptyDirs="true" dir="${generated}/org" />
	</target>


	<!-- **************************************************************************
	     all: build and package the compiler
	 ************************************************************************** -->

	<target name="all" depends="init,build,test,document,package" description="complete build" />

	<!-- **************************************************************************
	     all.force: build and package the compiler from scratch
	 ************************************************************************** -->

	<target name="all.force" depends="clean,all" description="complete build from scratch" />

</project>
